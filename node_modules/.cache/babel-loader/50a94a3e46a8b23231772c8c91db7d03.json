{"ast":null,"code":"var _jsxFileName = \"C:\\\\apps\\\\Sorted_tech_test\\\\src\\\\components\\\\Lister\\\\index.js\";\nimport React, { useEffect, useState } from 'react';\nimport getPosts from '../../services/posts';\nimport Post from './Post';\nimport CreatePost from './CreatePost';\n\nconst Lister = () => {\n  const [loading, setLoading] = useState(true);\n  const [allPosts, setPosts] = useState([]);\n  const [postList, setPostList] = useState();\n  useEffect(() => {\n    getPosts().then(data => {\n      setLoading(false);\n      setPosts(data);\n    });\n  }, []);\n  useEffect(() => {\n    console.log('I am in');\n    const postList = allPosts.map((post, i) => {\n      console.log(post.title);\n      return /*#__PURE__*/React.createElement(Post, {\n        id: post.id,\n        title: post.title,\n        body: post.body,\n        author: post.author,\n        onDelete: onDeletePost,\n        key: i,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 24,\n          columnNumber: 6\n        }\n      });\n    });\n    setPostList(postList);\n  }, [allPosts]);\n\n  const onDeletePost = id => {\n    const toDelete = allPosts.indexOf(allPosts.find(function (obj) {\n      return obj.id === id;\n    }));\n    let theArray = allPosts;\n\n    if (toDelete !== -1) {\n      theArray.splice(toDelete, 1);\n      console.log('new posts ', theArray);\n    }\n\n    setPosts(theArray);\n  };\n\n  const onCreatePost = post => {// TODO: implement\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"postList\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 3\n    }\n  }, loading && /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }\n  }, \"Loading...\"), postList && postList, /*#__PURE__*/React.createElement(CreatePost, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 4\n    }\n  }));\n};\n\nexport default Lister;","map":{"version":3,"sources":["C:/apps/Sorted_tech_test/src/components/Lister/index.js"],"names":["React","useEffect","useState","getPosts","Post","CreatePost","Lister","loading","setLoading","allPosts","setPosts","postList","setPostList","then","data","console","log","map","post","i","title","id","body","author","onDeletePost","toDelete","indexOf","find","obj","theArray","splice","onCreatePost"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,QAAP,MAAqB,sBAArB;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,OAAOC,UAAP,MAAuB,cAAvB;;AAEA,MAAMC,MAAM,GAAG,MAAM;AAEpB,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBN,QAAQ,CAAC,IAAD,CAAtC;AACA,QAAM,CAACO,QAAD,EAAWC,QAAX,IAAuBR,QAAQ,CAAC,EAAD,CAArC;AACA,QAAM,CAACS,QAAD,EAAWC,WAAX,IAA0BV,QAAQ,EAAxC;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACfE,IAAAA,QAAQ,GAAGU,IAAX,CAAgBC,IAAI,IAAI;AACvBN,MAAAA,UAAU,CAAC,KAAD,CAAV;AACAE,MAAAA,QAAQ,CAACI,IAAD,CAAR;AACA,KAHD;AAIA,GALQ,EAKN,EALM,CAAT;AAOAb,EAAAA,SAAS,CAAC,MAAM;AACfc,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACA,UAAML,QAAQ,GAAGF,QAAQ,CAACQ,GAAT,CAAa,CAACC,IAAD,EAAOC,CAAP,KAAa;AAC1CJ,MAAAA,OAAO,CAACC,GAAR,CAAYE,IAAI,CAACE,KAAjB;AACA,0BACE,oBAAC,IAAD;AAAM,QAAA,EAAE,EAAEF,IAAI,CAACG,EAAf;AAAmB,QAAA,KAAK,EAAEH,IAAI,CAACE,KAA/B;AAAsC,QAAA,IAAI,EAAEF,IAAI,CAACI,IAAjD;AAAuD,QAAA,MAAM,EAAEJ,IAAI,CAACK,MAApE;AAA4E,QAAA,QAAQ,EAAEC,YAAtF;AAAoG,QAAA,GAAG,EAAEL,CAAzG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF;AAGE,KALc,CAAjB;AAMEP,IAAAA,WAAW,CAACD,QAAD,CAAX;AACF,GATQ,EASP,CAACF,QAAD,CATO,CAAT;;AAWA,QAAMe,YAAY,GAAIH,EAAD,IAAQ;AAC5B,UAAMI,QAAQ,GAAGhB,QAAQ,CAACiB,OAAT,CAAiBjB,QAAQ,CAACkB,IAAT,CAAc,UAAUC,GAAV,EAAgB;AAAE,aAAOA,GAAG,CAACP,EAAJ,KAAWA,EAAlB;AAAuB,KAAvD,CAAjB,CAAjB;AACA,QAAIQ,QAAQ,GAAGpB,QAAf;;AACA,QAAGgB,QAAQ,KAAK,CAAC,CAAjB,EAAmB;AAClBI,MAAAA,QAAQ,CAACC,MAAT,CAAgBL,QAAhB,EAA0B,CAA1B;AACAV,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0Ba,QAA1B;AAEA;;AACDnB,IAAAA,QAAQ,CAACmB,QAAD,CAAR;AACA,GATD;;AAWA,QAAME,YAAY,GAAGb,IAAI,IAAI,CAC5B;AACA,GAFD;;AAIA,sBACC;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACEX,OAAO,iBACP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFF,EAMEI,QAAQ,IAAIA,QANd,eAOC,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPD,CADD;AAWA,CAlDD;;AAoDA,eAAeL,MAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport getPosts from '../../services/posts';\nimport Post from './Post'\nimport CreatePost from './CreatePost';\n\nconst Lister = () => {\n\n\tconst [loading, setLoading] = useState(true);\n\tconst [allPosts, setPosts] = useState([]);\n\tconst [postList, setPostList] = useState();\n\n\tuseEffect(() => {\n\t\tgetPosts().then(data => {\n\t\t\tsetLoading(false);\n\t\t\tsetPosts(data);\n\t\t});\n\t}, []);\n\n\tuseEffect(() => {\n\t\tconsole.log('I am in')\n\t\tconst postList = allPosts.map((post, i) => {\n\t\t\tconsole.log(post.title)\n\t\t\treturn (\n\t\t\t  <Post id={post.id} title={post.title} body={post.body} author={post.author} onDelete={onDeletePost} key={i}/>\n\t\t\t);\n\t\t  });\n\t\t  setPostList(postList)\n\t},[allPosts])\n\n\tconst onDeletePost = (id) => {\n\t\tconst toDelete = allPosts.indexOf(allPosts.find(function( obj ) { return obj.id === id; }))\n\t\tlet theArray = allPosts\n\t\tif(toDelete !== -1){\n\t\t\ttheArray.splice(toDelete, 1);\n\t\t\tconsole.log('new posts ', theArray)\n\t\t\t\n\t\t}\n\t\tsetPosts(theArray)\n\t}\n\n\tconst onCreatePost = post => {\n\t\t// TODO: implement\n\t}\n\n\treturn (\n\t\t<div className=\"postList\">\n\t\t\t{loading &&\n\t\t\t\t<h2>\n\t\t\t\t\tLoading...\n\t\t\t\t</h2>\n\t\t\t}\n\t\t\t{postList && postList}\n\t\t\t<CreatePost />\n\t\t</div>\n\t)\n};\n\nexport default Lister;"]},"metadata":{},"sourceType":"module"}